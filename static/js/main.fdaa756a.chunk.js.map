{"version":3,"sources":["actions/reduceProducts.ts","store/ProductContext.tsx","store/AuthContext.tsx","actions/calculateRemainingTime.ts","actions/retrieveStoredToken.ts","components/BurgerMenu/BurgerMenu.module.scss","components/Header/Header.module.scss","pages/Home/Home.module.scss","components/Navigation/NavItem/NavItem.module.scss","components/Navigation/Navigation.module.scss","App.module.scss","UI/Button/Button.tsx","UI/LoadingSpinner/LoadingSpinner.tsx","UI/Badge/Badge.module.scss","UI/LoadingSpinner/LoadingSpinner.module.scss","UI/Button/Button.module.scss","store/MenuContext.tsx","UI/Badge/Badge.tsx","components/BurgerMenu/BurgerMenu.tsx","components/Navigation/NavItem/NavItem.tsx","img/CartIcon.tsx","components/Navigation/Navigation.tsx","components/Header/Header.tsx","routes/ProtectedRoute.tsx","routes/DisabledRoute.tsx","pages/Home/Home.tsx","routes/RouteComponents.tsx","App.tsx","index.tsx"],"names":["productsReducer","state","action","type","updatedItems","updatedAmount","totalAmount","item","price","amount","existingProductItemIndex","items","findIndex","id","exsistingProductItem","updatedItem","concat","localStorage","setItem","JSON","stringify","filter","length","removeItem","ProductContext","createContext","badge","addProduct","removeProduct","resetProduct","ProductProvider","children","initialstorage","getItem","initialValue","parse","useReducer","products","dispatchProducts","reduce","currentItem","contextValue","Provider","value","logoutTimer","calculateRemainingTime","expirationTime","currentTime","Date","getTime","AuthContext","token","isLoggedIn","login","logout","AuthProvider","initialToken","tokenData","storedToken","storedExpirationDate","remainingTime","duration","retrieveStoredToken","useState","setToken","userIsLoggedIn","logoutHandler","useCallback","clearTimeout","useEffect","setTimeout","module","exports","Button","name","disabled","onClick","extraClassName","className","classes","button","defaultProps","memo","LoadingSpinner","spinner","height","width","color","ariaLabel","MenuContext","isOpen","closeHandler","toggleHandler","MenuProvider","setIsOpen","window","addEventListener","removeEventListener","prev","Badge","useContext","BurgerMenu","open","onKeyPress","role","tabIndex","after","burger","before","NavItem","to","icon","undefined","CartIcon","xmlns","viewBox","fill","d","Navigation","nav","menu","Header","header","container","main","logo","overlay","ProtectedRoute","DisabledRoute","Home","navigate","useNavigate","home","text","Products","lazy","AdminPanel","ShoppingCart","ProductPage","FormLayaut","RouteComponents","path","element","App","basename","process","fallback","center","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fdaa756a.chunk.js","sourcesContent":["import { ProductReducer } from '../interfaces/ProductInterfaces';\r\n\r\nexport const productsReducer: ProductReducer = (state, action) => {\r\n    if (action.type === 'ADD_ITEM') {\r\n        const updatedAmount = state.totalAmount + action.item!.price * action.item!.amount;\r\n\r\n        const existingProductItemIndex = state.items!.findIndex(item => item.id === action.item!.id)\r\n        \r\n        const exsistingProductItem = state.items![existingProductItemIndex];\r\n        \r\n        let updatedItems;\r\n\r\n        if(exsistingProductItem) {\r\n            const updatedItem = {\r\n                ...exsistingProductItem,\r\n                amount: exsistingProductItem.amount + action.item!.amount\r\n            };\r\n            updatedItems = [ ...state.items ];\r\n            updatedItems[existingProductItemIndex] = updatedItem;\r\n        } else {\r\n            updatedItems = [ ...state.items ];\r\n            updatedItems = state.items!.concat(action.item!)\r\n        }\r\n\r\n        localStorage.setItem('cart', JSON.stringify({\r\n            items: updatedItems,\r\n            totalAmount: updatedAmount,\r\n        }));\r\n\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedAmount,\r\n        }\r\n    }\r\n\r\n    if (action.type === 'REMOVE_ITEM') {\r\n        \r\n        const existingProductItemIndex = state.items.findIndex(item => item.id === action.id);\r\n        \r\n        const exsistingProductItem = state.items[existingProductItemIndex];\r\n        const updatedAmount: number = state.totalAmount - exsistingProductItem.price;\r\n        \r\n        let updatedItems; \r\n\r\n        if(exsistingProductItem.amount === 1) {\r\n            updatedItems = state.items.filter(item => item.id !== action.id);\r\n        } else {\r\n            const updatedItem = {\r\n                ...exsistingProductItem,\r\n                amount: exsistingProductItem.amount - 1,\r\n            };\r\n\r\n            updatedItems = [ ...state.items ];\r\n            updatedItems[existingProductItemIndex] = updatedItem; \r\n        } \r\n\r\n        localStorage.setItem('cart', JSON.stringify({\r\n            items: updatedItems,\r\n            totalAmount: updatedAmount,\r\n        }));\r\n        \r\n        if (updatedItems.length === 0 ) localStorage.removeItem('cart');\r\n\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedAmount,\r\n        }\r\n    }\r\n\r\n    if (action.type === 'RESET_ITEM') {\r\n        localStorage.removeItem('cart');\r\n        return {\r\n            items: [],\r\n            totalAmount: 0\r\n        }\r\n    }\r\n\r\n    return state;\r\n};","import { createContext, FC, useReducer } from 'react';\nimport Product, { ProductContextObject } from '../interfaces/ProductInterfaces';\nimport { productsReducer } from '../actions/reduceProducts';\n\nconst ProductContext = createContext<ProductContextObject>({\n  items: [],\n  totalAmount: 0,\n  badge: 0,\n  addProduct: () => {},\n  removeProduct: () => {},\n  resetProduct: () => {}\n});\n\nexport const ProductProvider: FC<{ children: any }> = ({ children }) => {\n  const initialstorage = localStorage.getItem('cart');\n\n  let initialValue = {\n    items: [],\n    totalAmount: 0\n  };\n  \n  if (initialstorage) {\n    initialValue = JSON.parse(initialstorage);\n  }\n\n  const [products, dispatchProducts] = useReducer(productsReducer, initialValue);\n\n  const { items, totalAmount } = products;\n\n  const addProductHandler = (item: Product) => {\n    dispatchProducts({ type: 'ADD_ITEM', item });\n  };\n\n  const removeProductHandler = (id: string) => {\n    dispatchProducts({ type: 'REMOVE_ITEM', id });\n  };\n  \n  const resetProductHandler = () => {\n    dispatchProducts({ type: 'RESET_ITEM' });\n  };\n\n  const badge = items.reduce((currentItem, item) => currentItem + item.amount, 0);\n\n  const contextValue = {\n    items,\n    totalAmount,\n    badge,\n    addProduct: addProductHandler,\n    removeProduct: removeProductHandler,\n    resetProduct: resetProductHandler\n  };\n  return <ProductContext.Provider value={contextValue}>{children}</ProductContext.Provider>;\n};\n\nexport default ProductContext;\n","import { createContext, FC, useState, useEffect, useCallback } from 'react';\r\nimport { calculateRemainingTime } from '../actions/calculateRemainingTime';\r\nimport { retrieveStoredToken } from '../actions/retrieveStoredToken';\r\nimport { AuthContextObject } from '../interfaces/AuthInterface';\r\n\r\n// eslint-disable-next-line no-undef\r\nlet logoutTimer: NodeJS.Timeout;\r\n\r\nexport const AuthContext = createContext<AuthContextObject>({\r\n  token: '',\r\n  isLoggedIn: false,\r\n  login: () => {},\r\n  logout: () => {}\r\n});\r\n\r\nexport const AuthProvider: FC<{ children: any }> = ({ children }) => {\r\n  const tokenData = retrieveStoredToken();\r\n\r\n  let initialToken;\r\n  if (tokenData) {\r\n    initialToken = tokenData.token;\r\n  }\r\n  const [token, setToken] = useState(initialToken);\r\n\r\n  const userIsLoggedIn = !!token;\r\n\r\n  const logoutHandler = useCallback(() => {\r\n    setToken(null);\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('expirationTime');\r\n\r\n    if (logoutTimer) {\r\n      clearTimeout(logoutTimer);\r\n    }\r\n  }, []);\r\n\r\n  const loginHandler = (token: string, expirationTime: string) => {\r\n    setToken(token);\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('expirationTime', expirationTime);\r\n\r\n    const remainingTime = calculateRemainingTime(expirationTime);\r\n    logoutTimer = setTimeout(logoutHandler, remainingTime);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (tokenData) logoutTimer = setTimeout(logoutHandler, tokenData.duration);\r\n  }, [tokenData, logoutHandler]);\r\n\r\n  const contextValue = {\r\n    token,\r\n    isLoggedIn: userIsLoggedIn,\r\n    login: loginHandler,\r\n    logout: logoutHandler\r\n  };\r\n\r\n  return <AuthContext.Provider value={contextValue}>{children}</AuthContext.Provider>;\r\n};\r\n\r\nexport default AuthContext;\r\n","export const calculateRemainingTime = (value: string | null) => {\r\n  let expirationTime = '0';\r\n  const currentTime = new Date().getTime();\r\n\r\n  if (value) expirationTime = value;\r\n\r\n  const adjustExpirationTime = new Date(expirationTime).getTime();\r\n  const remainingDuration = adjustExpirationTime - currentTime;\r\n\r\n  return remainingDuration;\r\n};\r\n","import { calculateRemainingTime } from './calculateRemainingTime';\r\n\r\nexport const retrieveStoredToken = () => {\r\n  const storedToken = localStorage.getItem('token');\r\n  const storedExpirationDate = localStorage.getItem('expirationTime');\r\n\r\n  const remainingTime = calculateRemainingTime(storedExpirationDate);\r\n\r\n  if (remainingTime <= 3600) {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('expirationTime');\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    token: storedToken,\r\n    duration: remainingTime,\r\n  };\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"BurgerMenu_button__kDU00\",\"badge\":\"BurgerMenu_badge__I4eTh\",\"burger\":\"BurgerMenu_burger__2WT7Z\",\"before\":\"BurgerMenu_before__1L24B\",\"after\":\"BurgerMenu_after__ciheb\",\"open\":\"BurgerMenu_open__qgMC3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1vvHD\",\"container\":\"Header_container__1czgB\",\"logo\":\"Header_logo__HFMnx\",\"main\":\"Header_main__15Gec\",\"overlay\":\"Header_overlay__2Q07o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__2BxU9\",\"text\":\"Home_text__2uhEg\",\"text-heading\":\"Home_text-heading__Hr_VE\",\"button\":\"Home_button__30Law\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NavItem_item__1ooCF\",\"nav-link\":\"NavItem_nav-link__1dPXB\",\"icon\":\"NavItem_icon__3-7KP\",\"badge\":\"NavItem_badge__3vG77\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__1mrL0\",\"menu\":\"Navigation_menu__2lGRD\",\"open\":\"Navigation_open__2D5km\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main___T1H3\",\"center\":\"App_center__qwhRQ\"};","import { FC, memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ButtonInterface } from '../../interfaces/UIInterface';\r\nimport classes from './Button.module.scss';\r\n\r\nconst Button: FC<ButtonInterface> = ({ name, type, disabled, onClick, extraClassName }) => (\r\n  <button disabled={disabled} type={type} onClick={onClick} className={`${classes.button } ${extraClassName || extraClassName }`}>\r\n    {name}\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  onClick: () => {}\r\n};\r\n\r\nButton.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func\r\n};\r\n\r\nexport default memo(Button);","import { TailSpin } from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport classes from './LoadingSpinner.module.scss';\r\n\r\nexport const LoadingSpinner = () => (\r\n  <div className={classes.spinner}>\r\n    <TailSpin height='35' width='35' color='grey' ariaLabel='loading' />\r\n  </div>\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"badge\":\"Badge_badge__AZ2sy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"LoadingSpinner_spinner__3n9m9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2LxoP\"};","import { createContext, useState, useEffect, FC } from 'react';\r\n\r\nconst MenuContext = createContext({\r\n  isOpen: false,\r\n  closeHandler: () => {},\r\n  toggleHandler: () => {}\r\n});\r\n\r\nexport const MenuProvider: FC<{ children: any }> = ({ children }) => {\r\n  const [isOpen, setIsOpen] = useState<boolean>(false);\r\n\r\n  const closeHandler = () => setIsOpen(false);\r\n  \r\n  const toggleHandler = () => setIsOpen(prev => !prev);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', () => setIsOpen(false));\r\n\r\n    return () => window.removeEventListener('rezise', () => setIsOpen(false));\r\n  }, [isOpen]);\r\n\r\n  const contextValue = {\r\n    isOpen,\r\n    closeHandler,\r\n    toggleHandler\r\n  };\r\n\r\n  return <MenuContext.Provider value={contextValue}>{children}</MenuContext.Provider>;\r\n};\r\n\r\nexport default MenuContext;\r\n","import { memo, useContext } from 'react';\r\nimport ProductContext from '../../store/ProductContext';\r\nimport classes from './Badge.module.scss';\r\n\r\nconst Badge = () => {\r\n  const { badge } = useContext(ProductContext);\r\n  return <span className={classes.badge}>{badge || null}</span>;\r\n};\r\n\r\nexport default memo(Badge);\r\n","import { useContext, memo } from 'react';\r\nimport MenuContext from '../../store/MenuContext';\r\nimport ProductContext from '../../store/ProductContext';\r\nimport Badge from '../../UI/Badge/Badge';\r\n\r\nimport classes from './BurgerMenu.module.scss';\r\n\r\nconst BurgerMenu = () => {\r\n  const { isOpen, toggleHandler } = useContext(MenuContext);\r\n  const { badge } = useContext(ProductContext);\r\n\r\n  return (\r\n    <div\r\n      className={`${classes.button} ${isOpen && classes.open}`}\r\n      onClick={toggleHandler}\r\n      onKeyPress={toggleHandler}\r\n      role='button'\r\n      tabIndex={0}\r\n    >\r\n      <div className={`${classes.badge} ${isOpen && classes.open}`}>{badge !== 0 && <Badge />}</div>\r\n      <span className={classes.after} />\r\n      <span className={classes.burger} />\r\n      <span className={classes.before} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(BurgerMenu);\r\n","import { FC, ReactNode, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport classes from './NavItem.module.scss';\nimport Badge from '../../../UI/Badge/Badge';\n\ntype NavItemType = {\n  to: string,\n  name: string,\n  icon?: ReactNode,\n  badge?: number | null,\n  onClick?: () => void\n};\n\nconst NavItem: FC<NavItemType> = ({ to, name, icon, badge, onClick }) => (\n  <li className={classes.item} role='none'>\n    <NavLink to={to} className={classes['nav-link']} onClick={onClick}>\n      {icon && <span className={classes.icon}>{icon || null}</span>}\n      <span>{name}</span>\n      {badge && <Badge />}\n    </NavLink>\n  </li>\n);\n\nNavItem.defaultProps = {\n  icon: undefined,\n  badge: undefined,\n  onClick: () => {}\n};\n\nNavItem.propTypes = {\n  to: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  icon: PropTypes.element,\n  badge: PropTypes.number,\n  onClick: PropTypes.func\n};\n\nexport default memo(NavItem);\n","export const CartIcon = () => (\r\n  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'>\r\n    <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\r\n  </svg>\r\n);\r\n","import { useContext } from 'react';\nimport NavItem from './NavItem/NavItem';\nimport MenuContext from '../../store/MenuContext';\nimport ProductContext from '../../store/ProductContext';\nimport { CartIcon } from '../../img/CartIcon';\nimport classes from './Navigation.module.scss';\nimport AuthContext from '../../store/AuthContext';\n\n\n\nconst Navigation = () => {\n  const { badge } = useContext(ProductContext);\n  const { isOpen, closeHandler } = useContext(MenuContext);\n  const { isLoggedIn, logout } = useContext(AuthContext);\n\n  return (\n    <nav role='none' onClick={closeHandler} className={`${classes.nav} ${isOpen && classes.open}`}>\n      <ul className={classes.menu}>\n        <NavItem to='/' name='home'/>\n        <NavItem to='/products' name='products'/>\n        <NavItem to='/cart' name='cart' badge={badge || null} icon={<CartIcon />}/>\n        {isLoggedIn && <NavItem to='/admin-panel' name='admin'/>}\n        { !isLoggedIn\n        ? <NavItem to='/login/signin' name='login'/>\n        : <NavItem to='/' name='logout' onClick={logout} />}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport MenuContext from '../../store/MenuContext';\r\nimport BurgerMenu from '../BurgerMenu/BurgerMenu';\r\nimport Navigation from '../Navigation/Navigation';\r\n\r\nimport classes from './Header.module.scss';\r\n\r\nexport const Header = () => {\r\n  const { isOpen, closeHandler } = useContext(MenuContext);\r\n\r\n  return (\r\n    <header className={classes.header}>\r\n      {isOpen && <div onClick={closeHandler} className={classes['menu-overlay']} role='none' />}\r\n      <div className={classes.container}>\r\n        <div className={classes.main}>\r\n          <div className={classes.logo}>\r\n            <Link to='/'>Shop</Link>\r\n          </div>\r\n          <BurgerMenu />\r\n          <Navigation />\r\n          {isOpen && <div onClick={closeHandler} className={classes.overlay} role='none' />}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n","import { useContext } from 'react';\r\nimport { Navigate, Outlet } from 'react-router';\r\nimport AuthContext from '../store/AuthContext';\r\n\r\nexport const ProtectedRoute = () => {\r\n  const { isLoggedIn } = useContext(AuthContext);\r\n\r\n  return isLoggedIn ? <Outlet/> : <Navigate to='/login/signin'/>;\r\n};","import { useContext } from 'react';\r\nimport { Navigate, Outlet } from 'react-router';\r\nimport AuthContext from '../store/AuthContext';\r\n\r\nexport const DisabledRoute = () => {\r\n  const { isLoggedIn } = useContext(AuthContext);\r\n\r\n  return !isLoggedIn ? <Outlet/> : <Navigate to='/'/>;\r\n};","import { useNavigate } from 'react-router-dom';\nimport Button from '../../UI/Button/Button';\nimport classes from './Home.module.scss';\n\nconst Home = () => {\n  const navigate = useNavigate();\n  return (\n    <article id='home-section' className={classes.home}>\n        <section className={classes.text}>\n          <h1 className={classes['text-heading']}>welcome to the world!</h1>\n          <p>in the best store of electronics</p>\n          <Button \n            type='button' \n            onClick={() => navigate('/products')} \n            name='check it' \n            extraClassName={classes.button}\n          />\n        </section>\n    </article>\n  );\n};\n\nexport default Home;\n","import { lazy } from 'react';\r\nimport { Route } from 'react-router';\r\nimport { ProtectedRoute } from './ProtectedRoute';\r\nimport { DisabledRoute } from './DisabledRoute';\r\n\r\nimport Home from '../pages/Home/Home';\r\n\r\nconst Products = lazy(() => import('../pages/Products/Products'));\r\nconst AdminPanel = lazy(() => import('../pages/AdminPanel/AdminPanel')); \r\nconst ShoppingCart = lazy(() => import('../pages/ShoppingCart/ShoppingCart')); \r\nconst ProductPage = lazy(() => import('../pages/ProductPage/ProductPage')); \r\nconst FormLayaut = lazy(() => import('../pages/FormLayaut/FormLayaut')); \r\n\r\nconst RouteComponents = [\r\n  <Route key='/' path='/*' element={<Home />} />,\r\n  <Route key='/products' path='/products' element={<Products />} />,\r\n  <Route key='/products/:id' path='/products/:id' element={<ProductPage />} />,\r\n  <Route key='/cart' path='/cart' element={<ShoppingCart />} />,\r\n  <Route key='/disabled-route' element={<DisabledRoute />}>\r\n    <Route key='/login' path='/login/:action' element={<FormLayaut />} />\r\n  </Route>,\r\n  <Route key='/protected-route' element={<ProtectedRoute />}>\r\n      <Route key='/admin-panel' path='/admin-panel' element={<AdminPanel />} />\r\n  </Route>\r\n];\r\n\r\nexport default RouteComponents;\r\n","import { Suspense } from 'react';\r\nimport { HashRouter as Router, Routes } from 'react-router-dom';\r\nimport { ProductProvider } from './store/ProductContext';\r\nimport { MenuProvider } from './store/MenuContext';\r\nimport { Header } from './components/Header/Header';\r\nimport { LoadingSpinner } from './UI/LoadingSpinner/LoadingSpinner';\r\n\r\nimport RouteComponents from './routes/RouteComponents';\r\n\r\nimport classes from './App.module.scss';\r\n\r\nexport const App = () => (\r\n  <Router basename={process.env.PUBLIC_URL}>\r\n    <ProductProvider>\r\n      <MenuProvider>\r\n        <Header />\r\n      </MenuProvider>\r\n      <main className={classes.main}>\r\n        <Suspense\r\n          fallback={\r\n            <div className={classes.center}>\r\n              <LoadingSpinner />\r\n            </div>\r\n          }\r\n        >\r\n          <Routes>{RouteComponents}</Routes>\r\n        </Suspense>\r\n      </main>\r\n    </ProductProvider>\r\n  </Router>\r\n);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport { AuthProvider } from './store/AuthContext';\nimport './index.scss';\n\nReactDOM.render(\n    <AuthProvider>\n      <App />\n    </AuthProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}