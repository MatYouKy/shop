(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],[,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(4),o=n(0),a=n(14),r=n(11),i=function(e,t){if("ADD_ITEM"===t.type){var n,c=e.totalAmount+t.item.price*t.item.amount,o=e.items.findIndex((function(e){return e.id===t.item.id})),i=e.items[o];if(i){var s=Object(r.a)(Object(r.a)({},i),{},{amount:i.amount+t.item.amount});(n=Object(a.a)(e.items))[o]=s}else n=Object(a.a)(e.items),n=e.items.concat(t.item);return localStorage.setItem("cart",JSON.stringify({items:n,totalAmount:c})),{items:n,totalAmount:c}}if("REMOVE_ITEM"===t.type){var l,u=e.items.findIndex((function(e){return e.id===t.id})),j=e.items[u],b=e.totalAmount-j.price;if(1===j.amount)l=e.items.filter((function(e){return e.id!==t.id}));else{var m=Object(r.a)(Object(r.a)({},j),{},{amount:j.amount-1});(l=Object(a.a)(e.items))[u]=m}return localStorage.setItem("cart",JSON.stringify({items:l,totalAmount:b})),0===l.length&&localStorage.removeItem("cart"),{items:l,totalAmount:b}}return"RESET_ITEM"===t.type?(localStorage.removeItem("cart"),{items:[],totalAmount:0}):e},s=n(1),l=Object(o.createContext)({items:[],totalAmount:0,badge:0,addProduct:function(){},removeProduct:function(){},resetProduct:function(){}}),u=function(e){var t=e.children,n=localStorage.getItem("cart"),a={items:[],totalAmount:0};n&&(a=JSON.parse(n));var r=Object(o.useReducer)(i,a),u=Object(c.a)(r,2),j=u[0],b=u[1],m=j.items,d=j.totalAmount,O=m.reduce((function(e,t){return e+t.amount}),0),x={items:m,totalAmount:d,badge:O,addProduct:function(e){b({type:"ADD_ITEM",item:e})},removeProduct:function(e){b({type:"REMOVE_ITEM",id:e})},resetProduct:function(){b({type:"RESET_ITEM"})}};return Object(s.jsx)(l.Provider,{value:x,children:t})};t.b=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c,o=n(4),a=n(0),r=function(e){var t="0",n=(new Date).getTime();return e&&(t=e),new Date(t).getTime()-n},i=n(1),s=Object(a.createContext)({token:"",isLoggedIn:!1,login:function(){},logout:function(){}}),l=function(e){var t,n=e.children,l=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expirationTime"),n=r(t);return n<=3600?(localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),null):{token:e,duration:n}}();l&&(t=l.token);var u=Object(a.useState)(t),j=Object(o.a)(u,2),b=j[0],m=j[1],d=!!b,O=Object(a.useCallback)((function(){m(null),localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),c&&clearTimeout(c)}),[]);Object(a.useEffect)((function(){l&&(c=setTimeout(O,l.duration))}),[l,O]);var x={token:b,isLoggedIn:d,login:function(e,t){m(e),localStorage.setItem("token",e),localStorage.setItem("expirationTime",t);var n=r(t);c=setTimeout(O,n)},logout:O};return Object(i.jsx)(s.Provider,{value:x,children:n})};t.b=s},function(e,t,n){e.exports={button:"BurgerMenu_button__kDU00",badge:"BurgerMenu_badge__I4eTh",burger:"BurgerMenu_burger__2WT7Z",before:"BurgerMenu_before__1L24B",after:"BurgerMenu_after__ciheb",open:"BurgerMenu_open__qgMC3"}},,function(e,t,n){e.exports={header:"Header_header__1vvHD",container:"Header_container__1czgB",logo:"Header_logo__HFMnx",main:"Header_main__15Gec",overlay:"Header_overlay__2Q07o"}},,,,function(e,t,n){e.exports={home:"Home_home__2BxU9",text:"Home_text__2uhEg","text-heading":"Home_text-heading__Hr_VE",button:"Home_button__30Law"}},,function(e,t,n){e.exports={item:"NavItem_item__1ooCF","nav-link":"NavItem_nav-link__1dPXB",icon:"NavItem_icon__3-7KP",badge:"NavItem_badge__3vG77"}},function(e,t,n){e.exports={nav:"Navigation_nav__1mrL0",menu:"Navigation_menu__2lGRD",open:"Navigation_open__2D5km"}},,function(e,t,n){e.exports={main:"App_main___T1H3",center:"App_center__qwhRQ"}},,function(e,t,n){"use strict";var c=n(0),o=n(26),a=n.n(o),r=n(1),i=function(e){var t=e.name,n=e.type,c=e.disabled,o=e.onClick,i=e.extraClassName;return Object(r.jsx)("button",{disabled:c,type:n,onClick:o,className:"".concat(a.a.button," ").concat(i||i),children:t})};i.defaultProps={onClick:function(){}},t.a=Object(c.memo)(i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(27),o=(n(33),n(25)),a=n.n(o),r=n(1),i=function(){return Object(r.jsx)("div",{className:a.a.spinner,children:Object(r.jsx)(c.a,{height:"35",width:"35",color:"grey",ariaLabel:"loading"})})}},,,function(e,t,n){e.exports={badge:"Badge_badge__AZ2sy"}},function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__3n9m9"}},function(e,t,n){e.exports={button:"Button_button__2LxoP"}},,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(23),a=n.n(o),r=n(8),i=n(2),s=n(5),l=n(4),u=n(1),j=Object(c.createContext)({isOpen:!1,closeHandler:function(){},toggleHandler:function(){}}),b=function(e){var t=e.children,n=Object(c.useState)(!1),o=Object(l.a)(n,2),a=o[0],r=o[1];Object(c.useEffect)((function(){return window.addEventListener("resize",(function(){return r(!1)})),function(){return window.removeEventListener("rezise",(function(){return r(!1)}))}}),[a]);var i={isOpen:a,closeHandler:function(){return r(!1)},toggleHandler:function(){return r((function(e){return!e}))}};return Object(u.jsx)(j.Provider,{value:i,children:t})},m=j,d=n(24),O=n.n(d),x=function(){var e=Object(c.useContext)(s.b).badge;return Object(u.jsx)("span",{className:O.a.badge,children:e||null})},g=Object(c.memo)(x),f=n(7),_=n.n(f),h=function(){var e=Object(c.useContext)(m),t=e.isOpen,n=e.toggleHandler,o=Object(c.useContext)(s.b).badge;return Object(u.jsxs)("div",{className:"".concat(_.a.button," ").concat(t&&_.a.open),onClick:n,onKeyPress:n,role:"button",tabIndex:0,children:[Object(u.jsx)("div",{className:"".concat(_.a.badge," ").concat(t&&_.a.open),children:0!==o&&Object(u.jsx)(g,{})}),Object(u.jsx)("span",{className:_.a.after}),Object(u.jsx)("span",{className:_.a.burger}),Object(u.jsx)("span",{className:_.a.before})]})},p=Object(c.memo)(h),v=n(15),N=n.n(v),I=function(e){var t=e.to,n=e.name,c=e.icon,o=e.badge,a=e.onClick;return Object(u.jsx)("li",{className:N.a.item,role:"none",children:Object(u.jsxs)(r.c,{to:t,className:N.a["nav-link"],onClick:a,children:[c&&Object(u.jsx)("span",{className:N.a.icon,children:c||null}),Object(u.jsx)("span",{children:n}),o&&Object(u.jsx)(g,{})]})})};I.defaultProps={icon:void 0,badge:void 0,onClick:function(){}};var C=Object(c.memo)(I),k=function(){return Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(u.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},y=n(16),H=n.n(y),S=n(6),E=function(){var e=Object(c.useContext)(s.b).badge,t=Object(c.useContext)(m),n=t.isOpen,o=t.closeHandler,a=Object(c.useContext)(S.b),r=a.isLoggedIn,i=a.logout;return Object(u.jsx)("nav",{role:"none",onClick:o,className:"".concat(H.a.nav," ").concat(n&&H.a.open),children:Object(u.jsxs)("ul",{className:H.a.menu,children:[Object(u.jsx)(C,{to:"/",name:"home"}),Object(u.jsx)(C,{to:"/products",name:"products"}),Object(u.jsx)(C,{to:"/cart",name:"cart",badge:e||null,icon:Object(u.jsx)(k,{})}),r&&Object(u.jsx)(C,{to:"/admin-panel",name:"admin"}),r?Object(u.jsx)(C,{to:"/",name:"logout",onClick:i}):Object(u.jsx)(C,{to:"/login/signin",name:"login"})]})})},T=n(9),M=n.n(T),w=function(){var e=Object(c.useContext)(m),t=e.isOpen,n=e.closeHandler;return Object(u.jsxs)("header",{className:M.a.header,children:[t&&Object(u.jsx)("div",{onClick:n,className:M.a["menu-overlay"],role:"none"}),Object(u.jsx)("div",{className:M.a.container,children:Object(u.jsxs)("div",{className:M.a.main,children:[Object(u.jsx)("div",{className:M.a.logo,children:Object(u.jsx)(r.b,{to:"/",children:"Shop"})}),Object(u.jsx)(p,{}),Object(u.jsx)(E,{}),t&&Object(u.jsx)("div",{onClick:n,className:M.a.overlay,role:"none"})]})})]})},A=n(21),P=function(){return Object(c.useContext)(S.b).isLoggedIn?Object(u.jsx)(i.b,{}):Object(u.jsx)(i.a,{to:"/login/signin"})},B=function(){return Object(c.useContext)(S.b).isLoggedIn?Object(u.jsx)(i.a,{to:"/"}):Object(u.jsx)(i.b,{})},L=n(20),z=n(13),D=n.n(z),R=function(){var e=Object(i.h)();return Object(u.jsx)("article",{id:"home-section",className:D.a.home,children:Object(u.jsxs)("section",{className:D.a.text,children:[Object(u.jsx)("h1",{className:D.a["text-heading"],children:"welcome to the world!"}),Object(u.jsx)("p",{children:"in the best store of electronics"}),Object(u.jsx)(L.a,{type:"button",onClick:function(){return e("/products")},name:"check it",extraClassName:D.a.button})]})})},J=Object(c.lazy)((function(){return Promise.all([n.e(8),n.e(4)]).then(n.bind(null,70))})),G=Object(c.lazy)((function(){return Promise.all([n.e(3),n.e(7)]).then(n.bind(null,72))})),V=Object(c.lazy)((function(){return n.e(6).then(n.bind(null,73))})),q=Object(c.lazy)((function(){return n.e(9).then(n.bind(null,69))})),F=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,71))})),K=[Object(u.jsx)(i.c,{path:"/*",element:Object(u.jsx)(R,{})},"/"),Object(u.jsx)(i.c,{path:"/products",element:Object(u.jsx)(J,{})},"/products"),Object(u.jsx)(i.c,{path:"/products/:id",element:Object(u.jsx)(q,{})},"/products/:id"),Object(u.jsx)(i.c,{path:"/cart",element:Object(u.jsx)(V,{})},"/cart"),Object(u.jsx)(i.c,{element:Object(u.jsx)(B,{}),children:Object(u.jsx)(i.c,{path:"/login/:action",element:Object(u.jsx)(F,{})},"/login")},"/disabled-route"),Object(u.jsx)(i.c,{element:Object(u.jsx)(P,{}),children:Object(u.jsx)(i.c,{path:"/admin-panel",element:Object(u.jsx)(G,{})},"/admin-panel")},"/protected-route")],Q=n(18),U=n.n(Q),Z=function(){return Object(u.jsx)(r.a,{hashType:"hashbang",basename:"/shop",children:Object(u.jsxs)(s.a,{children:[Object(u.jsx)(b,{children:Object(u.jsx)(w,{})}),Object(u.jsx)("main",{className:U.a.main,children:Object(u.jsx)(c.Suspense,{fallback:Object(u.jsx)("div",{className:U.a.center,children:Object(u.jsx)(A.a,{})}),children:Object(u.jsx)(i.e,{children:K})})})]})})};n(34);a.a.render(Object(u.jsx)(S.a,{children:Object(u.jsx)(Z,{})}),document.getElementById("root"))}],[[35,1,2]]]);
//# sourceMappingURL=main.3c6565a0.chunk.js.map