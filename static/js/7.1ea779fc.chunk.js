(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[7],{38:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return d}));var a=r(11),n=r(0),c=r(40),s=r.n(c),o=r(1),i=Object(n.forwardRef)((function(e,t){var r=e.input,n=e.label,c=e.hasError,i=e.textError,d=e.extraClassName;return Object(o.jsxs)("div",{className:"".concat(s.a.input," ").concat(d||d),children:[Object(o.jsx)("label",{htmlFor:r.id,children:n}),Object(o.jsx)("input",Object(a.a)({ref:t},r)),c&&Object(o.jsx)("p",{className:s.a["error-text"],children:i})]})})),d=Object(n.forwardRef)((function(e,t){var r=e.id,a=e.label,n=e.hasError,c=e.textError,i=e.extraClassName;return Object(o.jsxs)("div",{className:"".concat(s.a.input," ").concat(i||i),children:[Object(o.jsx)("label",{htmlFor:r,children:a}),Object(o.jsx)("textarea",{ref:t,id:r}),n&&Object(o.jsx)("p",{className:s.a["error-text"],children:c})]})}));i.defaultProps={hasError:!1,textError:"",extraClassName:""},d.defaultProps={hasError:!1,textError:"",extraClassName:""}},40:function(e,t,r){e.exports={input:"Input_input__ftuL7","error-text":"Input_error-text__1FjL1"}},62:function(e,t,r){e.exports={admin:"AdminPanel_admin__1LNvz",container:"AdminPanel_container__5GyBK",heading:"AdminPanel_heading__3MuId","add-section":"AdminPanel_add-section__3muno",done:"AdminPanel_done__1GU-9",action:"AdminPanel_action__2yr_t",button:"AdminPanel_button__2r6SL",error:"AdminPanel_error__3qYnY","new-product":"AdminPanel_new-product__fUebW"}},72:function(e,t,r){"use strict";r.r(t);var a=r(36),n=r.n(a),c=r(37),s=r(4),o=r(0),i=r(20),d=r(38),u=r(56),p=r(61),l=Object(p.a)({apiKey:"AIzaSyD0vaLkDCH4wRWBxP_vGkpGJxdkZv75IHM",authDomain:"products-shop-dd6fc.firebaseapp.com",databaseURL:"https://products-shop-dd6fc-default-rtdb.europe-west1.firebasedatabase.app",projectId:"products-shop-dd6fc",storageBucket:"products-shop-dd6fc.appspot.com",messagingSenderId:"596193125532",appId:"1:596193125532:web:b8ef9e6ced0c2d07d3f959"}),b=Object(u.b)(l),_=function(){var e=Object(c.a)(n.a.mark((function e(t,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",body:JSON.stringify(r)});case 2:if(e.sent.ok){e.next=5;break}throw new Error("dismiss posst");case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),j="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD0vaLkDCH4wRWBxP_vGkpGJxdkZv75IHM",REACT_APP_FIREBASE_APP_ID:"1:596193125532:web:b8ef9e6ced0c2d07d3f959",REACT_APP_FIREBASE_AUTH_DOMAIN:"products-shop-dd6fc.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://products-shop-dd6fc-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"596193125532",REACT_APP_FIREBASE_PROJECT_ID:"products-shop-dd6fc",REACT_APP_FIREBASE_SIGN_IN:"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyD0vaLkDCH4wRWBxP_vGkpGJxdkZv75IHM",REACT_APP_FIREBASE_SIGN_UP:"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyD0vaLkDCH4wRWBxP_vGkpGJxdkZv75IHM",REACT_APP_FIREBASE_STORAGE_BUCKET:"products-shop-dd6fc.appspot.com",REACT_APP_USER_EMAIL:"admin@admin.pl",REACT_APP_USER_PASSWORD:"admin123"}).REACT_APP_FIREBASE_PRODUCT_ENDPOINT,"products.json"),f=r(62),m=r.n(f),E=r(21),O=r(1),h=function(e){return e.trim().length>=3};t.default=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),r=t[0],a=t[1],p=Object(o.useState)(null),l=Object(s.a)(p,2),f=l[0],A=l[1],P=Object(o.useState)({productNameIsValid:!0,productDescriptionIsValid:!0,productPriceIsValid:!0}),x=Object(s.a)(P,2),I=x[0],v=x[1],R=Object(o.useRef)(null),S=Object(o.useRef)(null),N=Object(o.useRef)(null),C=Object(o.useRef)(null),g=function(){var e=Object(o.useState)(0),t=Object(s.a)(e,2),r=t[0],a=t[1],n=Object(o.useState)(""),c=Object(s.a)(n,2),i=c[0],d=c[1];return{error:i,progress:r,postFileHandler:function(e,t,r){var n=Object(u.c)(b,e),c=Object(u.d)(n,t,{contentType:"image/jpeg"});c.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is ".concat(t,"% done")),a(t),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){d(e.code)}),(function(){return Object(u.a)(c.snapshot.ref).then((function(e){_(j,{name:r.name,description:r.description,price:r.price,img:e})}))}))}}}(),D=g.error,T=g.progress,k=g.postFileHandler,w=function(){R.current.value="",S.current.value="",N.current.value="0",C.current.value="",A(null)},y=function(){var e=Object(c.a)(n.a.mark((function e(t){var r,c,s,o,i,d,u,p;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=R.current.value,c=S.current.value,s=parseInt(N.current.value,10),o=h(r),i=h(c),d=0!==s,u=(null===f||void 0===f?void 0:f.name)?f.name:"undefined",v({productNameIsValid:o,productDescriptionIsValid:i,productPriceIsValid:d}),o&&i&&d){e.next=12;break}return e.abrupt("return");case 12:a(!0),p={name:r,description:c,price:s,img:u},k("products/".concat(u),f,p),w();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){100===T&&a(!1)}),[T]),Object(O.jsx)("article",{className:m.a.admin,children:Object(O.jsxs)("section",{className:m.a.container,children:[Object(O.jsx)("div",{className:m.a.heading,children:Object(O.jsx)("h1",{children:"admin panel"})}),Object(O.jsxs)("div",{className:m.a["add-section"],children:[Object(O.jsx)("h3",{children:"Add Product"}),Object(O.jsx)("p",{className:m.a.error,children:D}),100===T&&""===D&&Object(O.jsx)("p",{className:m.a.done,children:"Done !"}),Object(O.jsxs)("form",{onSubmit:y,children:[Object(O.jsx)(d.a,{ref:R,label:"Product Name",hasError:!I.productNameIsValid,textError:"Name do not be empty!",input:{id:"newProductName",type:"text"}}),Object(O.jsx)(d.b,{ref:S,label:"description",hasError:!I.productDescriptionIsValid,textError:"Description do not be empty!",id:"newProductDescription"}),Object(O.jsx)(d.a,{ref:N,label:"price",hasError:!I.productPriceIsValid,textError:"Price cannot be equal 0!",input:{id:"newProductPrice",type:"number",defaultValue:0,min:"0"}}),Object(O.jsx)("input",{type:"file",onChange:function(e){e.target.files&&A(e.target.files[0])},ref:C}),Object(O.jsxs)("div",{className:m.a.action,children:[r&&Object(O.jsx)(E.a,{}),!r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.a,{extraClassName:m.a.button,type:"button",name:"cancel",onClick:w}),Object(O.jsx)(i.a,{extraClassName:m.a.button,type:"submit",name:"Add"})]})]})]})]})]})})}}}]);
//# sourceMappingURL=7.1ea779fc.chunk.js.map