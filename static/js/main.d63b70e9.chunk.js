(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(64),a=n.n(r),i=n(6),o=n(3),u=(n(74),n(0)),l=function(){return Object(u.jsx)("div",{className:"shadow"})},j=(n(76),function(){var e=Object(o.f)();return Object(u.jsxs)("article",{id:"home-section",className:"home-section",children:[Object(u.jsx)(l,{}),Object(u.jsx)("div",{className:"blur"}),Object(u.jsxs)("div",{className:"home-text",children:[Object(u.jsx)("h1",{className:"home-text__header",children:"welcome to the world!"}),Object(u.jsx)("p",{children:"in the best store of electronics"}),Object(u.jsx)("button",{className:"home-text__button",type:"button",onClick:function(){return e("products")},children:"check it"})]})]})}),d=n(2),m=n(65),b=n(5),O=n.n(b),p=n(9),h=n(4),f=n(7),x=function(){return window.innerWidth>=992},g=Object(c.createContext)(),_=function(e){var t=e.children,n="".concat("/shop","/products.json"),s=Object(c.useState)([]),r=Object(d.a)(s,2),a=r[0],i=r[1],o=Object(c.useState)(x()),l=Object(d.a)(o,2),j=l[0],m=l[1],b=Object(c.useState)(!1),_=Object(d.a)(b,2),N=_[0],v=_[1],w=Object(c.useState)([]),C=Object(d.a)(w,2),y=C[0],k=C[1];return Object(c.useEffect)((function(){var e=function(){return m(x())};return window.addEventListener("resize",e),function(){return window.removeEventListener("rezise",e)}}),[j]),Object(c.useEffect)((function(){j&&v(!1)}),[j]),Object(c.useEffect)((function(){var e=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return i(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e(n)}),[]),Object(u.jsx)(g.Provider,{value:{menu:j,toggle:N,products:a,URL:n,cartItems:y,handleToggle:function(e){return v(e)},addOneProduct:function(e){var t=y.find((function(t){return t.id===e.id}));k(t?y.map((function(n){return n.id===e.id?Object(f.a)(Object(f.a)({},t),{},{pcs:t.pcs+1}):n})):[].concat(Object(h.a)(y),[Object(f.a)(Object(f.a)({},e),{},{pcs:1})]))},removeOneProduct:function(e){var t=y.find((function(t){return t.id===e.id}));1===t.pcs?k(y.filter((function(t){return t.id!==e.id}))):k(y.map((function(n){return n.id===e.id?Object(f.a)(Object(f.a)({},t),{},{pcs:t.pcs-1}):n})))},setCartItems:k},children:t})},N=(n(78),function(){var e=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){fetch("".concat("/shop","/products.json")).then((function(e){return e.json()})).then((function(e){return s(e)})).catch((function(e){return console.log("Error in get users",e)}))}),[]),{products:n}}(),t=e.products,n=Object(c.useContext)(g).addOneProduct,s=Object(c.useState)([]),r=Object(d.a)(s,2),a=r[0],o=r[1],j=Object(c.useState)(!0),b=Object(d.a)(j,2),O=b[0],p=b[1],h=Object(c.useState)(7),f=Object(d.a)(h,2),x=f[0],_=f[1],N=a.map((function(e){var t=e.description.slice(0,100);return Object(u.jsxs)("li",{className:"products-list__item",children:[Object(u.jsx)(i.b,{to:"/products/".concat(e.id),children:Object(u.jsx)("img",{src:"".concat("/shop","../../img/").concat(e.img),alt:e.name,className:"products-list__item-img"})}),Object(u.jsxs)("div",{className:"products-description",children:[Object(u.jsx)(i.b,{className:"products-description__title text",to:"/products/".concat(e.id),children:e.name}),Object(u.jsxs)("p",{className:"products-description__describe text",children:[" ","".concat(t,"....")]}),Object(u.jsxs)("div",{className:"products-description__bottom-section",children:[Object(u.jsxs)("h4",{className:"text",children:[" ",e.price,"z\u0142"]}),Object(u.jsx)("button",{className:"products-description__bottom-section--button",id:e.id,type:"button",onClick:function(){return n(e)},onKeyPress:function(){return n(e)},children:"add to basket"})]})]})]},e.id)}));return Object(c.useEffect)((function(){t&&o(t.slice(0,7))}),[t]),Object(u.jsx)("article",{className:"products-section",children:Object(u.jsxs)("div",{className:"products__container",children:[Object(u.jsx)(l,{}),Object(u.jsx)(m.a,{className:"products-list",dataLength:x,next:function(){x>=t.length?p(!1):setTimeout((function(){var e;e=x+4,o(t.slice(0,e)),_(x+4)}),1e3)},hasMore:O,loader:Object(u.jsx)("div",{className:"products-list__info",children:Object(u.jsx)("p",{className:"products-list__info",children:"Loading..."})}),endMessage:Object(u.jsx)("div",{className:"products-list__end",children:Object(u.jsx)("p",{className:"products-list__info",children:"That's all"})}),children:N})]})})}),v=(n(79),function(){var e=Object(o.f)(),t=Object(c.useContext)(g),n=t.cartItems,s=t.addOneProduct,r=t.removeOneProduct,a=n.reduce((function(e,t){return e+t.price*t.pcs}),0);return Object(u.jsxs)("article",{id:"shopping-cart",className:"shopping-cart",children:[Object(u.jsx)(l,{}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"title",children:"order summary"}),n.length<=0?Object(u.jsx)("h3",{children:"Cart is Empty "}):Object(u.jsxs)("div",{className:"list-wrapper",children:[Object(u.jsx)("ul",{className:"shopping-list",children:n.map((function(e){return Object(u.jsxs)("li",{className:"list",children:[Object(u.jsxs)("figure",{className:"photo",children:[Object(u.jsx)("img",{src:"".concat("/shop","../../img/").concat(e.img),alt:e.name,className:"photo__img"}),Object(u.jsxs)("figcaption",{className:"photo__caption",children:[e.name," "]})]}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"quantity",children:[Object(u.jsx)("button",{className:"quantity__button",onClick:function(){return s(e)},onKeyPress:function(){return s(e)},type:"button",children:"+"}),Object(u.jsx)("button",{className:"quantity__button decrement",onClick:function(){return r(e)},onKeyPress:function(){return r(e)},type:"button",children:"-"}),Object(u.jsxs)("p",{className:"quantity__value",children:[e.pcs,Object(u.jsx)("span",{children:" x "}),e.price.toFixed(2),"$"]})]})})]},e.id)}))}),Object(u.jsxs)("div",{className:"summary",children:[Object(u.jsxs)("h2",{className:"summary__value",children:["Total: ",a.toFixed(2),"$"]}),Object(u.jsx)("button",{type:"button",className:"summary__button",onClick:function(){console.log("I order"),e("/shopping-cart/order",{state:{cartItems:n,price:a}})},children:"buy it"})]})]})]})]})}),w=(n(80),function(e){var t=e.id,n=e.name,c=e.img,s=e.description,r=e.price,a=e.addOneProduct,i=e.product,l=Object(o.f)();return Object(u.jsxs)("section",{className:"product-focus",children:[Object(u.jsxs)("div",{className:"focus-main",children:[Object(u.jsx)("img",{className:"focus-main__img",src:"".concat("/shop","../../img/").concat(c),alt:n}),Object(u.jsxs)("div",{className:"focus-main__interaction",children:[Object(u.jsxs)("h5",{className:"focus-main__price",children:[r,"$"]}),Object(u.jsx)("button",{className:"focus-main__button",id:t,onClick:function(){a(i),l(-1)},type:"button",children:"add to basket"})]})]}),Object(u.jsx)("h5",{children:"describe:"}),Object(u.jsx)("p",{className:"focus-main__describe",children:s}),Object(u.jsx)("button",{type:"button",className:"focus-main__back",onClick:function(){return l(-1)},children:"\u2190"})]})}),C=function(e){return fetch(e).then((function(e){if(e.ok)return e.json();throw new Error("getData Error")})).then((function(e){return e})).catch((function(e){return console.error("Error in getData",e)}))},y=(n(81),function(){var e=Object(c.useContext)(g),t=e.addOneProduct,n=e.URL,s=Object(o.g)().id,r=Object(c.useState)({id:null,name:"",description:"",img:"",price:0,click:function(){}}),a=Object(d.a)(r,2),i=a[0],j=a[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(p.a)(O.a.mark((function e(t){var n,c,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseInt(s,10),e.next=3,C(t);case 3:((c=e.sent).length<=parseInt(s,10)||"0"===s)&&(n=1),r=c.findIndex((function(e){return e.id===n})),j(c[r]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e(n)}),[]),Object(u.jsxs)("article",{className:"product-page",children:[Object(u.jsx)(l,{}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"container__title",children:i.name}),Object(u.jsx)(w,{id:i.id,name:i.name,description:i.description,img:i.img,price:i.price,addOneProduct:t,product:i})]})]})}),k=n(24),P=n.n(k),E=Object(c.createContext)(),S=function(e){var t=e.children,n=Object(c.useState)(!1),s=Object(d.a)(n,2),r=s[0],a=s[1],i=Object(c.useState)({name:"",email:""}),o=Object(d.a)(i,2),l=o[0],j=o[1];return Object(u.jsx)(E.Provider,{value:{currentUser:l,isLogged:r,setCurrentUser:j,setIsLogged:a},children:t})},I=function(e){var t=Object(o.f)(),n=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){fetch("".concat("/shop","/users.json")).then((function(e){return e.json()})).then((function(e){return s(e)})).catch((function(e){return console.log("Error in get users",e)}))}),[]),{users:n}}(),s=n.users,r=Object(c.useContext)(E),a=r.setIsLogged,i=r.setCurrentUser,u={name:"admin",email:"admin@admin.pl",password:"admin123"};Object(c.useEffect)((function(){if(e.email===u.email&&e.password===u.password)a(!0),i(u),setTimeout((function(){t(-1)}),1e3);else if(s){var n=s.find((function(t){return t.email===e.email&&t.password===e.password}));n?(a(!0),i(n),setTimeout((function(){t(-1)}),1e3)):(a(!1),i({name:"",email:""}))}}),[e])};I.default={userValidate:{name:"",email:"",password:""}},I.propTypes={userValidate:P.a.shape({name:P.a.string,email:P.a.string,password:P.a.string})};n(41);var L=function(){var e=Object(c.useState)({name:"",email:"",password:""}),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)({name:"",email:"",password:""}),a=Object(d.a)(r,2),o=a[0],l=a[1],j=Object(c.useState)(""),m=Object(d.a)(j,2),b=m[0],O=m[1];I(o);return Object(u.jsxs)("form",{className:"form-inner",onSubmit:function(e){e.preventDefault(),function(e){l(e),s({name:"",email:"",password:""}),O("details do not Match")}(n)},children:[Object(u.jsx)("h2",{className:"form-inner__header-text",children:"Login"}),Object(u.jsx)("p",{className:"error",children:b}),Object(u.jsxs)("div",{className:"form-inner__group",children:[Object(u.jsx)("label",{htmlFor:"userEmail",className:"form-inner__group--label",children:"User e-mail"}),Object(u.jsx)("input",{type:"email",id:"userEmail",name:"email",className:"form-inner__group--input",onChange:function(e){return s(Object(f.a)(Object(f.a)({},n),{},{email:e.target.value}))},onClick:function(){return O("")},value:n.email})]}),Object(u.jsxs)("div",{className:"form-inner__group",children:[Object(u.jsx)("label",{htmlFor:"userPassword",className:"form-inner__group--label",children:"password"}),Object(u.jsx)("input",{type:"password",id:"userPassword",className:"form-inner__group--input",onChange:function(e){return s(Object(f.a)(Object(f.a)({},n),{},{password:e.target.value}))},onClick:function(){return O("")},value:n.password})]}),Object(u.jsx)("button",{type:"submit",className:"form-inner__buttons--button",children:"Login"}),Object(u.jsxs)("p",{className:"form-info",children:["Don't have an account yet?",Object(u.jsx)(i.b,{to:"/login/signup",className:"form-inner__buttons--link",children:"Sing up!"})]})]})},U=n(15),T=n(69),F=n(18),q=F.a().shape({userName:F.c().min(3).required(),userEmail:F.c().email().required(),userPassword:F.c().min(8).max(20).required(""),userConfirmPassword:F.c().oneOf([F.b("userPassword"),null])}),K=function(){var e,t,n,c=Object(U.d)({resolver:Object(T.a)(q)}),s=c.register,r=c.handleSubmit,a=c.formState.errors;return Object(u.jsxs)("form",{className:"form-inner",onSubmit:r((function(e){console.log(e)})),children:[Object(u.jsx)("h2",{className:"form-inner__header-text",children:"sign up"}),Object(u.jsxs)("div",{className:"form-inner__group",children:[Object(u.jsx)("label",{htmlFor:"userName",className:"form-inner__group--label",children:"User Name"}),Object(u.jsx)("input",Object(f.a)(Object(f.a)({},s("userName")),{},{placeholder:"username",id:"userName",type:"text",name:"userName",className:"form-inner__group--input"})),Object(u.jsx)("p",{className:"input-error",children:null===(e=a.userName)||void 0===e?void 0:e.message})]}),Object(u.jsxs)("div",{className:"form-inner__group",children:[Object(u.jsx)("label",{htmlFor:"userEmail",className:"form-inner__group--label",children:"User e-mail"}),Object(u.jsx)("input",Object(f.a)(Object(f.a)({},s("userEmail")),{},{placeholder:"e-mail",type:"email",name:"userEmail",className:"form-inner__group--input"})),Object(u.jsx)("p",{className:"input-error",children:null===(t=a.userEmail)||void 0===t?void 0:t.message})]}),Object(u.jsxs)("div",{className:"form-inner__group",children:[Object(u.jsx)("label",{htmlFor:"userPassword",className:"form-inner__group--label",children:"password"}),Object(u.jsx)("input",Object(f.a)(Object(f.a)({},s("userPassword")),{},{placeholder:"password",type:"password",name:"userPassword",id:"userPassword",className:"form-inner__group--input"})),Object(u.jsx)("p",{className:"input-error",children:null===(n=a.userPassword)||void 0===n?void 0:n.message})]}),Object(u.jsxs)("div",{className:"form-inner__group",children:[Object(u.jsx)("label",{htmlFor:"userConfirmPassword",className:"form-inner__group--label",children:"confirm password"}),Object(u.jsx)("input",Object(f.a)(Object(f.a)({},s("userConfirmPassword")),{},{placeholder:"repeat password",type:"password",id:"userConfirmPassword",name:"userConfirmPassword",className:"form-inner__group--input"})),Object(u.jsx)("p",{className:"input-error",children:a.userConfirmPassword&&"Password Should Match!"})]}),Object(u.jsx)("button",{type:"submit",className:"form-inner__buttons--button",children:"sign up"}),Object(u.jsxs)("p",{className:"form-info",children:["Do you have an account? ",Object(u.jsx)(i.b,{to:"/login/signin",className:"form-inner__buttons--link",children:"Sing in!"})]})]})},M=(n(183),function(){var e=Object(o.g)().action,t=Object(c.useContext)(E).currentUser;return Object(u.jsxs)("article",{id:"login",className:"login",children:[Object(u.jsx)(l,{}),""!==t.email?Object(u.jsx)("div",{className:"login__welcome",children:Object(u.jsxs)("h1",{children:["Hello, ",Object(u.jsx)("span",{children:t.name?t.name:"User"}),"!"]})}):Object(u.jsx)("section",{className:"login__form",children:"signup"===e?Object(u.jsx)(K,{}):Object(u.jsx)(L,{})})]})}),z=(n(184),function(){var e=Object(o.e)().state,t=Object(o.f)(),n=Object(c.useState)(!1),s=Object(d.a)(n,2),r=s[0],a=s[1],i=Object(c.useContext)(g),l=i.cartItems,j=i.setCartItems,m=Object(c.useContext)(E).isLogged;return console.log(e.cartItems),console.log(l),Object(c.useEffect)((function(){m&&a(!0)}),[m]),Object(u.jsxs)("article",{className:"order",children:[r?Object(u.jsx)("div",{children:"Gotowy do zakupu"}):Object(u.jsx)("div",{children:"Musisz poda\u0107 adres email"}),Object(u.jsx)("button",{type:"button",onClick:function(){j([]),t(-1)},children:"Kup"})]})}),D=[Object(u.jsx)(o.a,{path:"/*",element:Object(u.jsx)(j,{})},"/"),Object(u.jsx)(o.a,{path:"/products",element:Object(u.jsx)(N,{})},"/products"),Object(u.jsx)(o.a,{path:"/products/:id",element:Object(u.jsx)(y,{})},"/products/:id"),Object(u.jsx)(o.a,{path:"/shopping-cart",element:Object(u.jsx)(v,{})},"/shopping-cart"),Object(u.jsx)(o.a,{path:"/login/:action",element:Object(u.jsx)(M,{})},"/login/:action"),Object(u.jsx)(o.a,{path:"/shopping-cart/:order",element:Object(u.jsx)(z,{})},"/shopping-cart/order")],$=(n(185),function(){var e=Object(c.useContext)(g),t=e.toggle,n=e.menu,s=e.handleToggle;return Object(u.jsx)(u.Fragment,{children:!n&&Object(u.jsx)("div",{className:"menu-btn ".concat(t?"open":""),onClick:function(){return s(!t)},onKeyPress:function(){return s(!t)},role:"button",tabIndex:"0",children:Object(u.jsx)("div",{className:"menu-btn__burger"})})})}),J=(n(186),function(){var e=Object(c.useContext)(g),t=e.toggle,n=e.handleToggle,s=e.cartItems,r=Object(c.useContext)(E),a=r.isLogged,o=r.setIsLogged,l=r.currentUser,j=r.setCurrentUser;return Object(u.jsx)("nav",{className:"nav-menu ".concat(t?"open":""),onClick:function(){return n(!1)},onKeyPress:function(){return n(!1)},role:"none",children:Object(u.jsxs)("ul",{className:"menu",children:[Object(u.jsx)("li",{className:"menu-item",children:Object(u.jsx)(i.c,{className:"menu-item__link",to:"/",children:"home"})}),Object(u.jsx)("li",{className:"menu-item",children:Object(u.jsx)(i.c,{className:"menu-item__link",to:"/products",children:"products"})}),Object(u.jsxs)("li",{className:"menu-item",children:[Object(u.jsx)(i.c,{className:"menu-item__link",to:"/shopping-cart",children:"shopping cart"}),!!s.length&&Object(u.jsx)("span",{className:"menu-item__counter",children:s.length})]}),Object(u.jsx)("li",{className:"menu-item",children:a?Object(u.jsxs)(i.b,{className:"menu-item__link",to:"/",onClick:function(){o(!1),j({name:"",email:""})},children:["Logout ",l.name]}):Object(u.jsx)(i.c,{className:"menu-item__link",to:"/login/signin",children:"Login"})})]})})}),R=(n(187),function(){var e=Object(c.useContext)(g),t=e.toggle,n=e.handleToggle;return Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("div",{className:"header__shadow"}),Object(u.jsx)("div",{className:"wrapper",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"header-main",children:[Object(u.jsx)("div",{className:"logo",children:Object(u.jsx)(i.b,{to:"/",children:"Shop"})}),Object(u.jsx)($,{}),t&&Object(u.jsx)("div",{className:"menu-overlay",onClick:function(){return n(!1)},onKeyPress:function(){return n(!1)},role:"none"}),Object(u.jsx)(J,{})]})})})]})}),V=(n(188),function(){return Object(u.jsxs)(i.a,{basename:"/shop",children:[Object(u.jsx)(R,{}),Object(u.jsx)(o.c,{children:D})]})});a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(_,{children:Object(u.jsx)(S,{children:Object(u.jsx)(V,{})})})}),document.getElementById("root"))},41:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){}},[[189,1,2]]]);
//# sourceMappingURL=main.d63b70e9.chunk.js.map